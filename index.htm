<!DOCTYPE html>
<html>
<head>
  <title>Redirecting...</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 100px;
    }
    #redirectText {
      font-size: 24px;
    }
    #redirectLink {
      display: none;
    }
    #downloadLink {
      display: none;
    }
  </style>
</head>
<body>
  <p id="redirectText">Redirecting in <span id="countdown">3</span> seconds</p>
  <p id="redirectLink">If not automatically redirected:</p>
  <p id="downloadLink">
    <a href="https://code.visualstudio.com/download">Click here to download Visual Studio Code</a><br>
    <a href="https://marketplace.visualstudio.com/items?itemName=azure-automation.vscode-azureautomation">Click here to open the Azure Automation extension in the Visual Studio Code Marketplace</a>
  </p>

  <script>
    // Function to redirect to vscode://
    function redirectToVsCode() {
      window.location.href = "vscode:extension/azure-automation.vscode-azureautomation";
    }

    // Function to start the countdown
    function startCountdown() {
      let seconds = 3;
      const countdownElement = document.getElementById('countdown');

      function updateCountdown() {
        seconds--;
        countdownElement.innerText = seconds;

        if (seconds === 0) {
          redirectToVsCode();
        } else {
          setTimeout(updateCountdown, 1000);
        }
      }

      updateCountdown();
    }

    // Show the redirect link after the countdown
    function showRedirectLink() {
      const redirectText = document.getElementById('redirectText');
      const redirectLink = document.getElementById('redirectLink');
      const downloadLink = document.getElementById('downloadLink');

      redirectText.style.display = 'none';
      redirectLink.style.display = 'block';
      downloadLink.style.display = 'block';
    }

    // Call the functions
    startCountdown();
    setTimeout(showRedirectLink, 3000); // Show the redirect link after 3 seconds
  </script>
</body>
</html>
